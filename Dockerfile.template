FROM debian:bookworm-slim

WORKDIR /hello-world

RUN apt-get update && apt-get install -y --no-install-recommends build-essential libboost-context-dev libboost-dev libpq-dev cmake curl libcurl4-openssl-dev
RUN curl https://raw.githubusercontent.com/matt-42/lithium/master/install.sh | bash -s -

COPY CMakeLists.txt .
COPY src/ src/
COPY views/ views/

RUN cmake -LH . && make

CMD ["./my_api"]